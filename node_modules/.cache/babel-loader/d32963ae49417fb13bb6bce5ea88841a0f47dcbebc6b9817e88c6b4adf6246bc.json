{"ast":null,"code":"import{Bar,Pie}from'react-chartjs-2';import{Chart as ChartJS,BarElement,CategoryScale,LinearScale,ArcElement,Tooltip,Legend}from'chart.js';import{format,parseISO}from'date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(BarElement,CategoryScale,LinearScale,ArcElement,Tooltip,Legend);function SummaryChart(_ref){let{expenses=[]}=_ref;if(!expenses||expenses.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"summary-chart\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Spending Analysis\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No data to display\"})]});}const weeklyTotals=[0,0,0,0];const currentMonth=format(new Date(),'yyyy-MM');expenses.forEach(expense=>{if(format(parseISO(expense.date),'yyyy-MM')===currentMonth){const day=parseInt(format(parseISO(expense.date),'d'),10);const week=Math.floor((day-1)/7);if(week>=0&&week<=3){weeklyTotals[week]+=expense.amount;}}});const categoryTotals=expenses.reduce((acc,expense)=>{acc[expense.category]=(acc[expense.category]||0)+expense.amount;return acc;},{});const barChartData={labels:['Week 1','Week 2','Week 3','Week 4'],datasets:[{label:'Weekly Spending ($)',data:weeklyTotals,backgroundColor:'#4bc0c0',borderColor:'#4bc0c0',borderWidth:1}]};const pieChartData={labels:Object.keys(categoryTotals),datasets:[{data:Object.values(categoryTotals),backgroundColor:['#FF6384','#36A2EB','#FFCE56','#4BC0C0','#9966FF','#FF9F40','#8AC24A']}]};return/*#__PURE__*/_jsxs(\"div\",{className:\"summary-chart\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Spending Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Weekly Spending This Month\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-wrapper\",children:/*#__PURE__*/_jsx(Bar,{data:barChartData,options:{responsive:true,scales:{y:{beginAtZero:true,title:{display:true,text:'Amount ($)'}},x:{title:{display:true,text:'Weeks of Month'}}}}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Spending by Category\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-wrapper\",children:/*#__PURE__*/_jsx(Pie,{data:pieChartData,options:{plugins:{tooltip:{callbacks:{label:context=>{const label=context.label||'';const value=context.raw||0;const total=context.dataset.data.reduce((a,b)=>a+b,0);const percentage=Math.round(value/total*100);return`${label}: $${value.toFixed(2)} (${percentage}%)`;}}}}}})})]})]})]});}export default SummaryChart;","map":{"version":3,"names":["Bar","Pie","Chart","ChartJS","BarElement","CategoryScale","LinearScale","ArcElement","Tooltip","Legend","format","parseISO","jsx","_jsx","jsxs","_jsxs","register","SummaryChart","_ref","expenses","length","className","children","weeklyTotals","currentMonth","Date","forEach","expense","date","day","parseInt","week","Math","floor","amount","categoryTotals","reduce","acc","category","barChartData","labels","datasets","label","data","backgroundColor","borderColor","borderWidth","pieChartData","Object","keys","values","options","responsive","scales","y","beginAtZero","title","display","text","x","plugins","tooltip","callbacks","context","value","raw","total","dataset","a","b","percentage","round","toFixed"],"sources":["C:/Users/preet/OneDrive/Desktop/expense-tracker/src/components/SummaryChart.jsx"],"sourcesContent":["import { Bar, Pie } from 'react-chartjs-2';\r\nimport {\r\n    Chart as ChartJS,\r\n    BarElement,\r\n    CategoryScale,\r\n    LinearScale,\r\n    ArcElement,\r\n    Tooltip,\r\n    Legend\r\n} from 'chart.js';\r\nimport { format, parseISO } from 'date-fns';\r\n\r\nChartJS.register(\r\n    BarElement,\r\n    CategoryScale,\r\n    LinearScale,\r\n    ArcElement,\r\n    Tooltip,\r\n    Legend\r\n);\r\n\r\nfunction SummaryChart({ expenses = [] }) {\r\n    if (!expenses || expenses.length === 0) {\r\n        return (\r\n            <div className=\"summary-chart\">\r\n                <h2>Spending Analysis</h2>\r\n                <p>No data to display</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const weeklyTotals = [0, 0, 0, 0];\r\n    const currentMonth = format(new Date(), 'yyyy-MM');\r\n\r\n    expenses.forEach(expense => {\r\n        if (format(parseISO(expense.date), 'yyyy-MM') === currentMonth) {\r\n            const day = parseInt(format(parseISO(expense.date), 'd'), 10);\r\n            const week = Math.floor((day - 1) / 7);\r\n            if (week >= 0 && week <= 3) {\r\n                weeklyTotals[week] += expense.amount;\r\n            }\r\n        }\r\n    });\r\n\r\n    const categoryTotals = expenses.reduce((acc, expense) => {\r\n        acc[expense.category] = (acc[expense.category] || 0) + expense.amount;\r\n        return acc;\r\n    }, {});\r\n\r\n    const barChartData = {\r\n        labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],\r\n        datasets: [{\r\n            label: 'Weekly Spending ($)',\r\n            data: weeklyTotals,\r\n            backgroundColor: '#4bc0c0',\r\n            borderColor: '#4bc0c0',\r\n            borderWidth: 1\r\n        }]\r\n    };\r\n\r\n    const pieChartData = {\r\n        labels: Object.keys(categoryTotals),\r\n        datasets: [{\r\n            data: Object.values(categoryTotals),\r\n            backgroundColor: [\r\n                '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                '#9966FF', '#FF9F40', '#8AC24A'\r\n            ]\r\n        }]\r\n    };\r\n\r\n    return (\r\n        <div className=\"summary-chart\">\r\n            <h2>Spending Analysis</h2>\r\n\r\n            <div className=\"chart-container\">\r\n                {/* Bar Chart - Weekly Spending */}\r\n                <div className=\"chart-section\">\r\n                    <h3>Weekly Spending This Month</h3>\r\n                    <div className=\"chart-wrapper\">\r\n                        <Bar\r\n                            data={barChartData}\r\n                            options={{\r\n                                responsive: true,\r\n                                scales: {\r\n                                    y: {\r\n                                        beginAtZero: true,\r\n                                        title: {\r\n                                            display: true,\r\n                                            text: 'Amount ($)'\r\n                                        }\r\n                                    },\r\n                                    x: {\r\n                                        title: {\r\n                                            display: true,\r\n                                            text: 'Weeks of Month'\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Pie Chart - Category Breakdown */}\r\n                <div className=\"chart-section\">\r\n                    <h3>Spending by Category</h3>\r\n                    <div className=\"chart-wrapper\">\r\n                        <Pie\r\n                            data={pieChartData}\r\n                            options={{\r\n                                plugins: {\r\n                                    tooltip: {\r\n                                        callbacks: {\r\n                                            label: (context) => {\r\n                                                const label = context.label || '';\r\n                                                const value = context.raw || 0;\r\n                                                const total = context.dataset.data.reduce((a, b) => a + b, 0);\r\n                                                const percentage = Math.round((value / total) * 100);\r\n                                                return `${label}: $${value.toFixed(2)} (${percentage}%)`;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SummaryChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}